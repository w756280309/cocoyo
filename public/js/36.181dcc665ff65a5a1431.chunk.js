webpackJsonp([36],{426:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){var t=this;return{loading:!1,tableData:[],meta:{current_page:1,total:0,per_page:10},tableColumns:[{title:"id",key:"id"},{title:"头像",key:"avatar",render:function(t,e){return t("Avatar",{props:{src:e.row.avatar}})}},{title:"用户名",key:"name"},{title:"邮箱",key:"email"},{title:"状态",key:"status",render:function(t,e){return t("span",[t("Icon",{props:{type:"record"},style:{color:1==e.row.status?"rgb(142, 180, 203)":"    color: rgb(191, 83, 41)"}})])}},{title:"创建时间",key:"created_at"},{title:"操作",key:"action",align:"center",render:function(e,a){return e("div",[e("router-link",{props:{to:"/users/"+a.row.id+"/edit"}},[e("Button",{props:{type:"success",shape:"circle",icon:"edit"},style:{marginRight:"5px"}})]),e("Button",{props:{type:"error",shape:"circle",icon:"android-delete"},on:{click:function(){t.handleDelete(a)}}})])}}]}},created:function(){this.loadData()},methods:{loadData:function(){var t=this;this.loading=!0;var e="users";if(this.meta.current_page>1){var a="";e=e+(a=-1!=e.indexOf("?")?"&page=":"?page=")+this.meta.current_page,this.$router.push(a+this.meta.current_page)}this.$http.get(e).then(function(e){t.loading=!1,t.tableData=e.data,t.meta=e.meta})},handleCurrentChange:function(t){this.meta.current_page=t,this.loadData()},handleDelete:function(t){var e=this;this.$Modal.confirm({title:"改变该用户的状态?",content:"该动作可能会影响一些数据，请三思!",okText:"是,改变它!",cancelText:"取消",loading:!0,onOk:function(){e.$http.put("users/"+t.row.id+"/status").then(function(a){e.$Modal.remove(),e.$Message.success("修改成功"),e.tableData[t.index].status=!t.row.status})}})}}}},427:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Row",[a("Col",{attrs:{span:24}},[a("Card",[a("Table",{attrs:{loading:t.loading,data:t.tableData,columns:t.tableColumns,stripe:""}}),t._v(" "),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:t.meta.total,current:t.meta.current_page},on:{"on-change":t.handleCurrentChange}})],1)])],1)],1)],1)],1)},staticRenderFns:[]}},558:function(t,e,a){var n=a(1)(a(426),a(427),!1,null,null,null);t.exports=n.exports}});